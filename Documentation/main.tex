% Author = warrior
% Date = 26/5/21

% Definitionsprojectestructure

%\documentclass{article}

% Links
% https://latex-tutorial.com/tutorials/
% https://robjhyndman.com/hyndsight/indexing-in-latex/
% https://es.overleaf.com/learn/latex/Headers_and_footers
% https://www.overleaf.com/learn/latex/Sections_and_chapters
% https://es.overleaf.com/learn/latex/Headers_and_footers

% Examples
% http://diposit.ub.edu/dspace/bitstream/2445/66890/2/memoria.pdf

% Vars

\newcommand\email{filter.oriol@gmail.com}
\newcommand\projectname{Online Shop Structure}


%\title{Online Shop Structure}
\title{\projectname}
%\date{26/05/2021}
\date{\today}
\author{Oriol Filter Anson\\\email}


% Preamble
\documentclass[11pt]{article}
%\makeindex

% Packages
\usepackage{amsmath}
\usepackage{lipsum}
\usepackage{graphicx}
\graphicspath{ {./images/} }
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{fancyhdr}
\usepackage{hyperref}
\usepackage{lastpage}
\usepackage{tikz}
\usetikzlibrary{patterns}
\usepackage{bchart}

\usepackage{pgfplots}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{verbatim}
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=2
}





\newcommand\YAMLcolonstyle{\color{red}\mdseries}
\newcommand\YAMLkeystyle{\color{black}\bfseries}
\newcommand\YAMLvaluestyle{\color{blue}\mdseries}

\makeatletter

% here is a macro expanding to the name of the language
% (handy if you decide to change it further down the road)
\newcommand\language@yaml{yaml}

\expandafter\expandafter\expandafter\lstdefinelanguage
\expandafter{\language@yaml}
{
    keywords={true,false,null,y,n},
    keywordstyle=\color{darkgray}\bfseries,
    basicstyle=\YAMLkeystyle,                                 % assuming a key comes first
    sensitive=false,
    comment=[l]{\#},
    morecomment=[s]{/*}{*/},
    commentstyle=\color{purple}\ttfamily,
    stringstyle=\YAMLvaluestyle\ttfamily,
    moredelim=[l][\color{orange}]{\&},
    moredelim=[l][\color{magenta}]{*},
    moredelim=**[il][\YAMLcolonstyle{:}\YAMLvaluestyle]{:},   % switch to value style at :
    morestring=[b]',
    morestring=[b]",
    literate =    {---}{{\ProcessThreeDashes}}3
        {>}{{\textcolor{red}\textgreater}}1
        {|}{{\textcolor{red}\textbar}}1
        {\ -\ }{{\mdseries\ -\ }}3,
}

% switch to key style at EOL
\lst@AddToHook{EveryLine}{\ifx\lst@language\language@yaml\YAMLkeystyle\fi}
\makeatother

\newcommand\ProcessThreeDashes{\llap{\color{cyan}\mdseries-{-}-}}












\lstset{style=mystyle}

\pagestyle{fancy}
\fancyhf{}

\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    filecolor=magenta,
    urlcolor=cyan,
    pdftitle={Overleaf Example},
%    pdfpagemode=FullScreen,
}


%conf 1
\rfoot{Page \thepage \hspace{1pt} of~\pageref{LastPage}}
\lhead{\projectname}
\rhead{\email}
%conf 2
%\rhead{Page \thepage \hspace{1pt} of \pageref{LastPage}}
%\lfoot{\email}

% Document
\makeindex
\begin{document}
%    Tittle
    \clearpage
    \maketitle
    \includegraphics[scale=1.5]{favicon}
    \thispagestyle{empty}

    \newpage
%    Index
    \tableofcontents{}
    \thispagestyle{empty}

    \newpage
%    Introduction
    \setcounter{page}{1}
    \section{Introduction}\label{sec:introduction}
    \input{introduction}

    \section{Docker Network Scheme}\label{sec:DockerNetworkScheme}
    \input{docker-network-scheme}


    \newpage
%    Service Configuration
    \section{Services Configuration}\label{sec:ServicesConfiguration}
%    Docker Config
    \subsection[Docker Configuration]{DockerConfiguration}\label{subsec:dockerconfiguration}
    \subsubsection[Main Server Docker Configuration]{MainServerDockerConfiguration}
    \
    \lstinputlisting[language=Yaml,label={lst:MainDockerCompose}]{../docker-compose.yml}












    \section{Services Deployment}\label{sec:ServiceDeployment}
\end{document}